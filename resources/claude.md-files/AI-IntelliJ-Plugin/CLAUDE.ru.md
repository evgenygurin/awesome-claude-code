# Руководство по разработке плагина для интеграции с ИИ

## Команды сборки
- `./gradlew build` - Сборка всего проекта
- `./gradlew test` - Запуск всех тестов
- `./gradlew test --tests "com.didalgo.intellij.chatgpt.chat.metadata.UsageAggregatorTest"` - Запуск конкретного тестового класса
- `./gradlew test --tests "*.StandardLanguageTest.testDetection"` - Запуск конкретного тестового метода
- `./gradlew runIde` - Запуск плагина в экземпляре IDE для разработки
- `./gradlew runPluginVerifier` - Проверка совместимости плагина с различными версиями IDE
- `./gradlew koverReport` - Создание отчета о покрытии кода

## Рекомендации по стилю кода
- **Структура пакета**: Используйте `com.didalgo.intellij.chatgpt` в качестве базового пакета
- **Импорты**: Организуйте импорты в алфавитном порядке; без подстановочных знаков; статические импорты в конце
- **Именование**: CamelCase для классов; camelCase для методов/переменных; UPPER_SNAKE_CASE для констант
- **Типы**: Последовательно используйте аннотации (`@NotNull`, `@Nullable`); предпочитайте интерфейсные типы в объявлениях
- **Обработка ошибок**: Используйте проверяемые исключения для восстанавливаемых ошибок; исключения времени выполнения для ошибок программирования
- **Документация**: Javadoc для публичных API; комментируйте сложную логику; делайте код самоочевидным
- **Тестирование**: Пишите модульные тесты для всей бизнес-логики; интеграционные тесты для компонентов пользовательского интерфейса
- **Архитектура**: Следуйте шаблонам архитектуры плагинов IDEA; используйте сервисы для глобального состояния

## Шаблоны кодирования
- Используйте `ChatGptBundle` для интернационализированных строк
- По возможности используйте API платформы IntelliJ вместо пользовательских реализаций
- Используйте внедрение зависимостей через параметры конструктора, а не поиск сервисов

